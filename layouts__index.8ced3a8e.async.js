(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"+ego":function(e,t,c){"use strict";c.r(t);var n=c("9og8"),a=(c("4eJr"),c("3LgI")),s=(c("14J3"),c("BMrR")),r=c("k1fw"),i=(c("jCWc"),c("kPKH")),o=c("WmNS"),l=c.n(o),j=c("q1tI"),d=c.n(j),u=c("7AqN"),b=c("9kvl"),x=c("rlch"),h=(c("1YHl"),c("VNzZ")),m=c("eTLj"),f=c.n(m),O=(c("cWXX"),c("/ezw")),p=c("oBTY"),_=c("tJVT"),g=c("l+S1"),v=c("/MfK"),y=c("diY3"),N=c("5psM"),I=c("IgcR"),w=c("SqY3"),k=c.n(w),S=c("nKUr"),T=function(){var e="search-hot",t=Object(N["a"])(e),c=Object(_["a"])(t,2),n=c[0],a=c[1],s=Object(N["a"])("searchHistory",[]),r=Object(_["a"])(s,2),i=r[0],o=r[1],l=Object(j["useState"])([]),u=Object(_["a"])(l,2),x=u[0],h=u[1],m=Object(j["useState"])(""),f=Object(_["a"])(m,2),w=f[0],T=f[1],C=Object(j["useState"])(!1),R=Object(_["a"])(C,2),B=R[0],H=R[1],q=Object(j["useRef"])(null),L=Object(b["h"])(y["e"],{manual:!0,onSuccess:function(e){a({data:e,time:Date.now()+6e5}),h(e)}}),F=L.loading,J=L.run;function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;""!==e&&(H(!1),o(Object(p["a"])(new Set([e].concat(Object(p["a"])(i))))),q.current&&(q.current.value=e),b["d"].push("/search/".concat(e)))}function K(){H(!1)}function V(e){T(e.target.value)}function W(){if(!B){H(!0);var t=localStorage.getItem(e);!t||null===n||void 0===n||!n.data||n&&n.time<=Date.now()?J():h(n.data)}}function D(e){e.preventDefault(),e.stopPropagation()}function X(){o([])}function Y(e){P(e)}return Object(I["a"])("enter",(function(){P()}),{events:["keyup"],target:function(){return q.current}}),Object(j["useEffect"])((function(){document.onclick=K}),[]),Object(S["jsx"])(d.a.Fragment,{children:Object(S["jsxs"])("div",{className:k.a.search,onClick:D,children:[Object(S["jsx"])("input",{type:"text",className:k.a.searchInput,ref:q,onInput:V,onFocus:W}),Object(S["jsxs"])("div",{className:k.a.searchButton,onClick:function(){return P()},children:[Object(S["jsx"])(g["a"],{}),Object(S["jsx"])("i",{className:"mobile-hidden",children:"\u641c\u4e00\u4e0b"})]}),B&&Object(S["jsxs"])("div",{className:k.a.searchResult,children:[!(!i||!i.length)&&Object(S["jsxs"])(d.a.Fragment,{children:[Object(S["jsxs"])("div",{className:k.a.searchReacorTitle,children:["\u641c\u7d22\u8bb0\u5f55",Object(S["jsxs"])("span",{className:k.a.clearSearchHistory,onClick:X,children:[Object(S["jsx"])(v["a"],{style:{fontSize:"18px"}})," \u6e05\u9664"]})]}),Object(S["jsx"])("ul",{className:k.a.searchHistory,children:i.map((function(e){return Object(S["jsx"])("li",{onClick:function(){return Y(e)},className:"text-overflow-ellipsis",title:e,children:Object(S["jsx"])(d.a.Fragment,{children:e})},e)}))})]}),F&&Object(S["jsx"])(O["a"],{active:!0}),!F&&Object(S["jsxs"])(d.a.Fragment,{children:[Object(S["jsx"])("div",{className:k.a.searchReacorTitle,children:"\u70ed\u95e8\u641c\u7d22"}),Object(S["jsx"])("ul",{className:k.a.searchResultHost,children:x&&x.map((function(e,t){return Object(S["jsxs"])("li",{className:"text-overflow-ellipsis",onClick:function(){return Y(e.content)},title:e.content,children:[Object(S["jsx"])("em",{children:++t}),e.content]},e.content)}))})]})]})]})})},C=(c("R9oj"),c("ECub")),R=c("f+VB"),B=c.n(R),H=c("XhyP"),q=c.n(H),L=c("hX4b"),F=c("CJq5"),J=c("QttV"),P=function(){var e=Object(L["a"])();return Object(S["jsx"])("div",{className:B.a.watchRecord,children:Object(S["jsxs"])("div",{className:B.a.recordContent,children:[(!e||!e.length)&&Object(S["jsx"])("div",{className:B.a.empty,children:Object(S["jsx"])(C["a"],{image:q.a,imageStyle:{height:60},description:Object(S["jsx"])("div",{style:{marginTop:"13px"},children:"\u60a8\u8fd8\u6ca1\u6709\u89c2\u770b\u4efb\u4f55\u89c6\u9891\u54e6"})})}),e&&e.map((function(e,t){var c=e.vodId,n=e.name,a=e.playId,s=e.picture,r=e.title,i=e.doubanScore,o=e.year;return Object(S["jsxs"])("div",{className:B.a.recordItem,children:[Object(S["jsx"])("div",{className:B.a.recordImg,children:Object(S["jsx"])(F["a"],{id:c,banner:!1,name:n,picture:s,query:{id:a}})}),Object(S["jsx"])(J["a"],{to:"/video/detail/".concat(c,"?id=").concat(a),children:Object(S["jsxs"])("div",{className:B.a.info,children:[Object(S["jsxs"])("p",{children:["\u7247\u540d\uff1a",n]}),Object(S["jsxs"])("p",{children:["\u64ad\u653e\uff1a",r]}),Object(S["jsxs"])("p",{children:["\u8bc4\u5206\uff1a",i]}),Object(S["jsxs"])("p",{children:["\u5e74\u4efd\uff1a",o]})]})})]},t)}))]})})},K=c("52kO"),V=c.n(K),W=c("8Skl"),D=function(e){var t=e.item;return Object(S["jsx"])("li",{children:Object(S["jsx"])(J["a"],{to:"/type/".concat(t.id),children:t.name})})},X=function(e){var t=e.types;return Object(S["jsxs"])("div",{className:V.a.box,children:[Object(S["jsx"])("ul",{className:V.a.ul,children:t.map((function(e){return Object(S["jsx"])(D,{item:e},e.id)}))}),Object(S["jsxs"])("div",{className:V.a.all,children:[Object(S["jsx"])("span",{className:V.a.allTxt,children:"\u5168\u90e8"}),Object(S["jsx"])("span",{className:V.a.allNav,children:"\u5bfc\u822a"}),Object(S["jsx"])(W["a"],{className:V.a.allIcon}),Object(S["jsx"])("ul",{className:V.a.typeList,children:t.map((function(e){return Object(S["jsxs"])(d.a.Fragment,{children:[Object(S["jsx"])(D,{item:e}),e.children&&e.children.map((function(e){return Object(S["jsx"])(D,{item:e},e.id)}))]},e.id)}))})]})]})},Y=Object(b["c"])((function(e){var t=e.global;return{types:t.types}}))(X),z=c("Icgb"),E=c("vDpN"),U=c.n(E),M=c("whEg"),Z=c.n(M),A=c("O/FQ"),Q=c("0LZ5"),G=c.n(Q),$=function(){var e=Object(A["a"])();return Object(S["jsxs"])("div",{className:G.a.box,children:[Object(S["jsx"])("span",{className:G.a.type,children:e.effectiveType}),Object(S["jsxs"])("span",{className:G.a.fps,children:[" FPS ",e.rtt]})]})},ee=function(e){var t=e.config,c=e.colConfig,n=Object(x["d"])();function a(){b["d"].push("/")}return Object(S["jsx"])(h["a"],{style:{zIndex:5e3},children:Object(S["jsx"])("header",{className:f.a.header,children:Object(S["jsxs"])(s["a"],{children:[Object(S["jsx"])(i["a"],Object(r["a"])(Object(r["a"])({},c),{},{offset:1,children:Object(S["jsxs"])(s["a"],{justify:"space-between",align:"middle",gutter:{xs:0,sm:16,md:0},children:[Object(S["jsx"])(i["a"],{xs:0,sm:0,md:3,lg:4,xl:3,xxl:3,children:Object(S["jsx"])("div",{style:{backgroundImage:"url(".concat(t.siteLogo||U.a,")")},className:f.a.logo,onClick:a})}),Object(S["jsx"])(i["a"],{xs:5,sm:3,md:0,children:Object(S["jsx"])("div",{style:{backgroundImage:"url(".concat(t.wapLogo||Z.a,")")},className:f.a.logo,onClick:a})}),Object(S["jsxs"])(i["a"],{span:16,xs:19,sm:21,md:21,lg:20,xl:21,xxl:21,className:"display-flex justify-content-space-between align-items-center",children:[Object(S["jsx"])(Y,{}),Object(S["jsx"])(T,{}),Object(S["jsx"])("div",{className:f.a.userInfo,children:Object(S["jsx"])("div",{className:f.a.infoList,children:Object(S["jsxs"])("div",{className:[f.a.infoItem,f.a.record].join(" "),children:[Object(S["jsx"])(z["a"],{}),Object(S["jsx"])("div",{className:f.a.infoTitle,children:"\u770b\u8fc7"}),n&&Object(S["jsx"])(P,{})]})})})]})]})})),n&&Object(S["jsx"])($,{})]})})})},te=Object(b["c"])((function(e){var t=e.global;return{config:t.config}}))(ee),ce=(c("PUTc"),c("Mj6V")),ne=c.n(ce),ae=c("WTuT"),se=c.n(ae),re=function(e){var t=e.config,c=void 0===t?{}:t,n=c.siteName,a=c.siteLogo,s=c.icon,r=Object(u["h"])(),i=r.pathname,o="/".concat(i);return Object(S["jsxs"])(b["b"],{children:[Object(S["jsx"])("meta",{property:"og:url",content:o}),Object(S["jsx"])("meta",{property:"og:type",content:"video"}),Object(S["jsx"])("meta",{property:"og:title",content:n}),Object(S["jsx"])("meta",{property:"og:image",content:a}),Object(S["jsx"])("meta",{property:"og:site_name",content:n}),Object(S["jsx"])("meta",{"http-equiv":"mobile-agent",content:'"format=html5; url='.concat(o,'"')}),Object(S["jsx"])("link",{rel:"dns-prefetch",href:"https://cdn.jsdelivr.net"}),Object(S["jsx"])("meta",{name:"apple-mobile-web-app-title",content:n}),Object(S["jsx"])("link",{rel:"icon",type:"image/x-icon",href:s||se.a})]})},ie=Object(b["c"])((function(e){var t=e.global;return{config:t.config}}))(re),oe=function(e){var t=Object(u["h"])(),c=t.pathname,n=Object(b["i"])((function(e){return e})),o=n.loading,l=n.global,h=Object(b["g"])();return Object(x["d"])()&&setTimeout((function(){ne.a.done()}),100),Object(j["useEffect"])((function(){o.global||Object.keys(l.config).length&&l.types.length||h({type:"global/getData"})}),[c]),Object(S["jsxs"])(d.a.Fragment,{children:[Object(S["jsx"])(ie,{}),Object(S["jsx"])("div",{className:"layout_header",children:Object(S["jsx"])(te,{colConfig:e.colConfig})}),Object(S["jsx"])(s["a"],{children:Object(S["jsx"])(i["a"],Object(r["a"])(Object(r["a"])({},e.colConfig),{},{offset:1,children:Object(S["jsx"])("div",{className:"content margin-bottom-md padding-top-md",children:e.children})}))}),Object(S["jsx"])(a["a"],{})]})};oe.getInitialProps=function(){var e=Object(n["a"])(l.a.mark((function e(t){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isServer){e.next=2;break}return e.abrupt("return");case 2:if(t.store.getState().loading.models.global){e.next=5;break}return e.next=5,t.store.dispatch({type:"global/getData"});case 5:return e.abrupt("return",Object(r["a"])({},t.store.getState()));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t["default"]=Object(b["c"])((function(e){var t=e.layout;return{colConfig:t.config}}))(oe)},"0LZ5":function(e,t,c){e.exports={box:"box___18ed5",fps:"fps___1c4C2"}},"52kO":function(e,t,c){e.exports={ul:"ul___vB3Nr",box:"box___3s9lI",all:"all___2ANYw",allIcon:"allIcon___1Tq9X",typeList:"typeList___2KjFN",allTxt:"allTxt___3Vzu3",allNav:"allNav___14yS6"}},CJq5:function(e,t,c){"use strict";var n=c("tJVT"),a=c("q1tI"),s=c.n(a),r=c("QttV"),i=c("KBfk"),o=c.n(i),l=function(e){if(!e||!e.cdn)return(null===e||void 0===e?void 0:e.pic)||(null===e||void 0===e?void 0:e.url)||"/";var t=e.cdn,c=t.r.path,n=t.path;return"".concat("https://cdn.jsdelivr.net/","gh/").concat(c,"@main/").concat(n)},j=c("nKUr");t["a"]=function(e){var t=e.id,c=e.name,i=void 0===c?"":c,d=e.banner,u=void 0===d||d,b=e.children,x=e.picture,h=e.playing,m=void 0!==h&&h,f=e.query,O=void 0===f?{}:f,p=Object(a["useState"])({}),_=Object(n["a"])(p,2),g=_[0],v=_[1];return Object(a["useEffect"])((function(){setTimeout((function(){v({backgroundImage:"url(".concat(l(x),")")})}),100)})),Object(j["jsxs"])("div",{className:[o.a.box,u?o.a.bannerBox:o.a.videoBox].join(" "),children:[t&&Object(j["jsx"])(r["a"],{to:{pathname:"/video/detail/".concat(t),query:O},title:i,style:g,className:[o.a.imgItem,m?"playing":""].join(" "),children:b}),!t&&Object(j["jsx"])(s.a.Fragment,{children:b})]})}},KBfk:function(e,t,c){e.exports={box:"box___3IU96",imgItem:"imgItem___1cxMR",bannerBox:"bannerBox___3SIWB",videoBox:"videoBox___2aRJG",smallBox:"smallBox___2nHoI"}},PUTc:function(e,t,c){},SqY3:function(e,t,c){e.exports={search:"search___1eAkB",searchButton:"searchButton___3v1x1",searchInput:"searchInput___1ztHK",searchResult:"searchResult___3vNiI",searchReacorTitle:"searchReacorTitle___2KNHU",searchResultHost:"searchResultHost___StfZ7",searchHistory:"searchHistory___2CN7n",clearSearchHistory:"clearSearchHistory___sFryS"}},WTuT:function(e,t,c){e.exports=c.p+"static/icon.c21b0fa5.png"},XhyP:function(e,t,c){e.exports=c.p+"static/empty.dbd309de.svg"},eTLj:function(e,t,c){e.exports={header:"header___1YldI",logo:"logo___35WgN",userInfo:"userInfo___3JE-P",infoList:"infoList___1emhR",infoItem:"infoItem___eUXW2",infoTitle:"infoTitle___qPWRK",record:"record___2Pb6-",user:"user___3qg4v"}},"f+VB":function(e,t,c){e.exports={watchRecord:"watchRecord___2-lxe",recordContent:"recordContent___25DvP",empty:"empty___1NHqe",recordItem:"recordItem___73iSC",recordImg:"recordImg___1yzMY",info:"info___2FH5p"}},hX4b:function(e,t,c){"use strict";c.d(t,"a",(function(){return n})),c.d(t,"b",(function(){return a}));var n=function(){var e=window.localStorage.getItem("watch_recrod_key");return e?JSON.parse(e):[]},a=function(e){var t=n().filter((function(t){return t.playId!=e.playId&&t.vodId!=e.vodId}));return t.unshift(e),window.localStorage.setItem("watch_recrod_key",JSON.stringify(t))}},vDpN:function(e,t,c){e.exports=c.p+"static/logo3.308fb3be.png"},whEg:function(e,t,c){e.exports=c.p+"static/logo-wap.b6252ca4.png"}}]);